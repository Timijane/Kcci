<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, minimum-scale=0.5, user-scalable=yes, viewport-fit=cover">
<meta name="theme-color" content="#008751">
<meta name="description" content="Kingdom Citizens Church INT'L - A vibrant community of believers committed to nurturing heirs of God's kingdom through faith, hope, and love.">
<title>Kingdom Citizens Church INT'L - Home</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Lobster&family=Poppins:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600&display=swap" rel="stylesheet">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<style>
  :root {
    --primary: #008751;
    --secondary: #FFD700;
    --light: #f8f9fa;
    --dark: #222;
    --accent: #005a3a;
    --gradient: linear-gradient(135deg, #008751 0%, #005a3a 100%);
  }
  
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }
  
  html {
    font-size: clamp(14px, 1vw, 18px);
    overflow-x: hidden;
    width: 100%;
    max-width: 100vw;
    -webkit-text-size-adjust: 100%;
    -moz-text-size-adjust: 100%;
    -ms-text-size-adjust: 100%;
  }
  
  body {
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(180deg, #f8f9fa 0%, #ffffff 100%);
    color: #333;
    line-height: 1.6;
    scroll-behavior: smooth;
    overflow-x: hidden;
    width: 100%;
    max-width: 100vw;
    min-width: 320px;
    position: relative;
    overflow-y: auto;
  }
  
  /* REMOVED body.menu-open CLASS - This was causing the right space issue */
  
  a {
    text-decoration: none;
    color: inherit;
  }
  
  /* Enhanced container for better responsiveness */
  .container {
    width: min(100% - clamp(1rem, 5vw, 3rem), 1200px);
    margin: 0 auto;
    padding: 0 clamp(0.5rem, 3vw, 1.5rem);
  }
  
  .btn {
    display: inline-block;
    background: var(--primary);
    color: white;
    padding: clamp(0.75rem, 2vw, 0.875rem) clamp(1.25rem, 3vw, 1.75rem);
    border: none;
    border-radius: 30px;
    cursor: pointer;
    transition: all 0.3s ease;
    font-weight: 500;
    letter-spacing: 0.5px;
    box-shadow: 0 4px 15px rgba(0, 135, 81, 0.2);
    font-size: clamp(0.875rem, 1.5vw, 1rem);
    min-height: 44px;
    min-width: 44px;
  }
  
  .btn:hover {
    background: var(--accent);
    transform: translateY(-3px);
    box-shadow: 0 6px 20px rgba(0, 90, 58, 0.25);
  }
  
  /* Professional touch: Glass morphism effect */
  .glass-effect {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
  }
  
  /* ========== UPDATED HEADER - BIGGER LOGO AND CHURCH NAME IN STRAIGHT LINE ========== */
  header {
    background: linear-gradient(rgba(0, 135, 81, 0.95), rgba(0, 90, 58, 0.95)), url('logo11.jpg');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    box-shadow: 0 2px 15px rgba(0, 0, 0, 0.15);
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    z-index: 1000;
    padding: 8px 0;
    transition: all 0.4s ease;
    height: 80px; /* Increased height for bigger logo */
  }
  
  .header-scrolled {
    background: linear-gradient(rgba(0, 135, 81, 0.98), rgba(0, 90, 58, 0.98)), url('logo11.jpg');
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
    height: 70px; /* Adjusted for scrolled state */
  }
  
  .header-container {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0 clamp(0.75rem, 2vw, 1.5rem);
    width: 100%;
    max-width: 1200px;
    margin: 0 auto;
    height: 64px; /* Increased container height */
  }
  
  .logo {
    display: flex;
    align-items: center;
    z-index: 1002;
  }
  
  /* 1. BIGGER LOGO FRAME */
  .logo-frame {
    width: 65px; /* Increased from 48px */
    height: 65px; /* Increased from 48px */
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-right: 12px; /* Increased margin */
    overflow: hidden;
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
    border: 2px solid var(--secondary);
    background: white;
    transition: all 0.3s ease;
  }
  
  .logo-frame img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  
  .logo-link {
    display: flex;
    align-items: center;
    text-decoration: none;
  }
  
  /* 2. CHURCH NAME ON STRAIGHT LINE WITH LOBSTER FONT */
  .logo-text {
    font-family: 'Lobster', cursive;
    font-size: 1.6rem; /* Increased from 1.2rem */
    font-weight: 400;
    color: white;
    letter-spacing: 0.5px;
    line-height: 1;
    white-space: nowrap;
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
    display: none; /* Hide on mobile initially */
  }
  
  /* Updated Navigation - New Design */
  .nav-container {
    display: flex;
    align-items: center;
    justify-content: flex-end;
    width: auto;
  }
  
  /* Desktop Navigation - Updated Design */
  @media (min-width: 993px) {
    .nav-menu {
      display: flex;
      list-style: none;
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      border-radius: 30px;
      padding: 4px;
    }
    
    .nav-menu li {
      margin: 0 4px;
      position: relative;
    }
    
    .nav-menu a {
      color: white;
      font-weight: 500;
      font-size: 0.75rem; /* Reduced font size */
      transition: all 0.3s ease;
      padding: 6px 12px;
      border-radius: 20px;
      display: flex;
      align-items: center;
      text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    }
    
    .nav-menu a i {
      margin-right: 6px;
      font-size: 0.9rem;
    }
    
    .nav-menu a:hover {
      background: rgba(255, 255, 255, 0.2);
      transform: translateY(-2px);
    }
    
    .nav-menu a.active {
      background: var(--secondary);
      color: var(--primary);
      font-weight: 600;
    }
    
    .dropdown-content {
      display: none;
      position: absolute;
      background: white;
      min-width: 180px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
      z-index: 1;
      border-radius: 10px;
      overflow: hidden;
      top: 100%;
      left: 0;
      padding: 8px 0;
      margin-top: 4px;
      border: 1px solid rgba(0,0,0,0.05);
    }
    
    .dropdown-content a {
      color: var(--dark);
      padding: 8px 16px;
      display: block;
      font-size: 0.8rem;
      border-radius: 0;
    }
    
    .dropdown-content a:hover {
      background: #f8f9fa;
      color: var(--primary);
      transform: none;
    }
    
    .dropdown:hover .dropdown-content {
      display: block;
    }
    
    .logo-text {
      display: block; /* Show on desktop */
      font-size: 1.8rem; /* Increased from 1.5rem */
    }
    
    .logo-frame {
      width: 60px; /* Increased from 44px */
      height: 60px; /* Increased from 44px */
    }
  }
  
  /* Mobile Menu - COMPLETELY REDESIGNED TO SLIDE FROM TOP */
  .hamburger {
    display: none;
    cursor: pointer;
    width: 40px;
    height: 40px;
    position: relative;
    z-index: 1001;
    background: var(--secondary);
    border-radius: 50%;
    padding: 8px;
    border: none;
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
  }
  
  /* 6. WHITE HAMBURGER ICON */
  .hamburger span {
    display: block;
    position: absolute;
    height: 3px; /* Slightly thicker */
    width: 20px;
    background: white; /* Changed to white */
    border-radius: 2px;
    opacity: 1;
    left: 10px;
    transform: rotate(0deg);
    transition: .25s ease-in-out;
  }
  
  .hamburger span:nth-child(1) { top: 14px; }
  .hamburger span:nth-child(2) { top: 19px; }
  .hamburger span:nth-child(3) { top: 24px; }
  
  .hamburger.active span:nth-child(1) {
    top: 19px;
    transform: rotate(45deg);
  }
  
  .hamburger.active span:nth-child(2) {
    opacity: 0;
    left: -30px;
  }
  
  .hamburger.active span:nth-child(3) {
    top: 19px;
    transform: rotate(-45deg);
  }
  
  /* 5. UPDATED MOBILE MENU DESIGN - LIGHT GREY BACKGROUND FOR LOGO AREA */
  @media (max-width: 992px) {
    .nav-menu {
      position: fixed;
      top: -100vh; /* Start above viewport */
      left: 0;
      width: 100%;
      height: 100vh;
      background: #f8f9fa; /* Changed to light grey as requested */
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      flex-direction: column;
      justify-content: flex-start;
      align-items: center;
      padding: 100px 20px 30px; /* Increased top padding */
      transition: top 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
      z-index: 999;
      overflow-y: auto;
      overflow-x: hidden;
    }
    
    .nav-menu.active {
      top: 0; /* Slide down into view */
    }
    
    .nav-menu li {
      margin: 0 0 10px 0;
      width: 100%;
      max-width: 300px;
      opacity: 0;
      transform: translateY(-20px);
      transition: all 0.3s ease;
    }
    
    .nav-menu.active li {
      opacity: 1;
      transform: translateY(0);
    }
    
    /* Staggered animation delay */
    .nav-menu li:nth-child(1) { transition-delay: 0.1s; }
    .nav-menu li:nth-child(2) { transition-delay: 0.15s; }
    .nav-menu li:nth-child(3) { transition-delay: 0.2s; }
    .nav-menu li:nth-child(4) { transition-delay: 0.25s; }
    .nav-menu li:nth-child(5) { transition-delay: 0.3s; }
    .nav-menu li:nth-child(6) { transition-delay: 0.35s; }
    .nav-menu li:nth-child(7) { transition-delay: 0.4s; }
    .nav-menu li:nth-child(8) { transition-delay: 0.45s; }
    .nav-menu li:nth-child(9) { transition-delay: 0.5s; }
    .nav-menu li:nth-child(10) { transition-delay: 0.55s; }
    .nav-menu li:nth-child(11) { transition-delay: 0.6s; }
    .nav-menu li:nth-child(12) { transition-delay: 0.65s; }
    
    .nav-menu a {
      font-size: 1rem;
      display: flex;
      align-items: center;
      padding: 12px 15px;
      width: 100%;
      border-radius: 10px;
      color: #333; /* Dark text for better contrast on light grey */
      background: rgba(255, 255, 255, 0.8); /* Slightly transparent white */
      margin-bottom: 5px;
      border-left: 3px solid transparent;
      box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    }
    
    .nav-menu a:hover {
      background: rgba(255, 255, 255, 1);
      border-left: 3px solid var(--primary);
      color: var(--primary);
    }
    
    .nav-menu a i {
      margin-right: 12px;
      font-size: 1rem;
      width: 20px;
      text-align: center;
      color: var(--primary);
    }
    
    .dropdown-content {
      position: static;
      display: none;
      box-shadow: none;
      background: rgba(255, 255, 255, 0.9);
      margin: 5px 0 5px 15px;
      border-radius: 8px;
      padding: 5px 0;
      border-left: 2px solid var(--primary);
    }
    
    .dropdown-content a {
      padding: 10px 15px 10px 25px;
      font-size: 0.9rem;
      color: #555;
      border-radius: 0;
      border-left: none;
    }
    
    .dropdown.active .dropdown-content {
      display: block;
    }
    
    .hamburger {
      display: block;
    }
    
    .logo-text {
      display: block;
      font-size: 1.4rem; /* Increased from 1.1rem */
    }
    
    .logo-frame {
      width: 55px; /* Increased from 40px */
      height: 55px; /* Increased from 40px */
      margin-right: 8px; /* Increased margin */
    }
  }
  
  @media (max-width: 768px) {
    .logo-text {
      font-size: 1.3rem; /* Increased from 1rem */
    }
    
    .logo-frame {
      width: 50px; /* Increased from 36px */
      height: 50px; /* Increased from 36px */
    }
    
    header {
      height: 75px; /* Increased from 60px */
    }
    
    .header-container {
      height: 60px; /* Increased from 52px */
    }
  }
  
  @media (max-width: 576px) {
    .logo-text {
      font-size: 1.2rem; /* Increased from 0.9rem */
    }
    
    .logo-frame {
      width: 45px; /* Increased from 32px */
      height: 45px; /* Increased from 32px */
    }
    
    header {
      height: 70px; /* Increased from 56px */
    }
    
    .header-container {
      height: 56px; /* Increased from 48px */
    }
  }
  
  @media (max-width: 400px) {
    .logo-text {
      display: block; /* Keep text visible on very small screens */
      font-size: 1rem;
    }
    
    .logo-frame {
      width: 40px; /* Increased from 28px */
      height: 40px; /* Increased from 28px */
      margin-right: 5px;
    }
  }
  
  /* Add padding to body to account for fixed header */
  body {
    padding-top: 80px; /* Increased from 64px for bigger header */
  }
  
  /* 4. FIX FOR EXTRA SPACE ON RIGHT WHEN MENU IS CLOSED */
  html, body {
    overflow-x: hidden;
    width: 100%;
    position: relative;
  }
  
  .nav-menu.active {
    overflow-y: auto;
  }
  
  /* Rest of the CSS remains the same... */
  /* Hero Section */
  .hero {
    position: relative;
    height: clamp(500px, 85vh, 800px);
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    color: white;
    background: #000;
    width: 100vw;
    left: 50%;
    right: 50%;
    margin-left: -50vw;
    margin-right: -50vw;
    margin-top: -80px; /* Increased from -64px to compensate for bigger header */
  }
  
  /* ... Rest of the CSS remains unchanged until the script section ... */
</style>
</head>
<body>
<!-- Loading animation -->
<div class="loading"></div>

<!-- Scroll progress indicator -->
<div class="scroll-progress" id="scrollProgress"></div>

<!-- Skip to main content link -->
<a href="#main-content" class="skip-to-main">Skip to main content</a>

<!-- Modal for Gallery Popup -->
<div class="modal" id="galleryModal">
  <span class="close-modal">&times;</span>
  <div class="modal-content">
    <img class="modal-image" src="" alt="">
    <div class="modal-caption">
      <h3 id="modalTitle"></h3>
      <p id="modalDescription"></p>
    </div>
  </div>
</div>

<!-- Scroll to Top Button -->
<div class="scroll-top" id="scrollTop">
  <i class="fas fa-chevron-up"></i>
</div>

<header id="mainHeader" class="glass-effect">
  <div class="container header-container">
    <div class="logo">
      <!-- Make logo a home button -->
      <a href="#home" class="logo-link">
        <div class="logo-frame">
          <img src="logo11.jpg" alt="Kingdom Citizens Church Logo">
        </div>
        <span class="logo-text">KINGDOM CITIZENS CHURCH INT'L</span>
      </a>
    </div>
    <div class="nav-container">
      <ul class="nav-menu">
        <!-- Updated menu items with icons -->
        <li><a href="#home" class="active"><i class="fas fa-home"></i> Home</a></li>
        <li><a href="about.html"><i class="fas fa-info-circle"></i> About</a></li>
        <li><a href="donate.html"><i class="fas fa-hand-holding-heart"></i> Donate</a></li>
        <li><a href="department.html"><i class="fas fa-building"></i> Department</a></li>
        <li class="dropdown">
          <a href="#"><i class="fas fa-church"></i> Ministries <i class="fas fa-chevron-down"></i></a>
          <div class="dropdown-content">
            <a href="foundation.html">Foundation Class</a>
            <a href="counselling.html">Counselling</a>
            <a href="evangelism.html">Evangelism</a>
            <!-- Added new items to ministries dropdown -->
            <a href="library.html">Visit Library</a>
            <a href="sermon.html">Listen to Sermon</a>
            <a href="live.html">Watch Us Live</a>
          </div>
        </li>
        <li><a href="pastor-note.html"><i class="fas fa-user-tie"></i> Pastor's Desk</a></li>
        <li><a href="join.html"><i class="fas fa-user-plus"></i> Join Us</a></li>
        <!-- Added new menu items -->
        <li><a href="library.html"><i class="fas fa-book-reader"></i> Visit Library</a></li>
        <li><a href="sermon.html"><i class="fas fa-headphones"></i> Listen to Sermon</a></li>
        <li><a href="live.html"><i class="fas fa-video"></i> Watch Us Live</a></li>
      </ul>
      <div class="hamburger"><span></span><span></span><span></span></div>
    </div>
  </div>
</header>

<!-- Hero Section -->
<section class="hero" id="home" id="main-content">
  <!-- 7. FASTER VIDEO LOADING WITH OPTIMIZED ATTRIBUTES -->
  <video class="hero-video" autoplay muted loop playsinline preload="auto" poster="hero-poster.jpg">
    <source src="kingdom-video.mp4" type="video/mp4">
    <source src="kingdom-video.webm" type="video/webm">
    Your browser does not support the video tag.
  </video>
  <div class="hero-overlay"></div>
  
  <div class="hero-content">
    <p>Welcome to Kingdom Citizens Church INT'L - nurturing the heirs of God's kingdom. We're delighted you've chosen to visit us! We pray the Word of God delivered from this ministry becomes a testimony in your life. God bless you abundantly.</p>
  </div>
  
  <!-- 5. FASTER & SLANTED SCRIPTURE TICKER -->
  <div class="scripture-ticker">
    <div class="ticker-container">
      <div class="ticker-item"><i class="fas fa-fire"></i> "But you will receive power when the Holy Spirit comes on you..." - Acts 1:8</div>
      <div class="ticker-item"><i class="fas fa-cross"></i> "For we walk by faith, not by sight." - 2 Corinthians 5:7</div>
      <div class="ticker-item"><i class="fas fa-heart"></i> "Now faith is the substance of things hoped for." - Hebrews 11:1</div>
      <div class="ticker-item"><i class="fas fa-hand-holding-heart"></i> "The life I now live in the body, I live by faith in the Son of God." - Galatians 2:20</div>
      <div class="ticker-item"><i class="fas fa-crown"></i> "But you are a chosen people, a royal priesthood, a holy nation..." - 1 Peter 2:9</div>
      <div class="ticker-item"><i class="fas fa-dove"></i> "But the fruit of the Spirit is love, joy, peace, forbearance, kindness..." - Galatians 5:22</div>
      <div class="ticker-item"><i class="fas fa-mountain"></i> "I can do all this through him who gives me strength." - Philippians 4:13</div>
      <div class="ticker-item"><i class="fas fa-seedling"></i> "For God has not given us a spirit of fear, but of power and love..." - 2 Timothy 1:7</div>
      
      <!-- Duplicate for seamless loop -->
      <div class="ticker-item"><i class="fas fa-fire"></i> "But you will receive power when the Holy Spirit comes on you..." - Acts 1:8</div>
      <div class="ticker-item"><i class="fas fa-cross"></i> "For we walk by faith, not by sight." - 2 Corinthians 5:7</div>
      <div class="ticker-item"><i class="fas fa-heart"></i> "Now faith is the substance of things hoped for." - Hebrews 11:1</div>
      <div class="ticker-item"><i class="fas fa-hand-holding-heart"></i> "The life I now live in the body, I live by faith in the Son of God." - Galatians 2:20</div>
      <div class="ticker-item"><i class="fas fa-crown"></i> "But you are a chosen people, a royal priesthood, a holy nation..." - 1 Peter 2:9</div>
      <div class="ticker-item"><i class="fas fa-dove"></i> "But the fruit of the Spirit is love, joy, peace, forbearance, kindness..." - Galatians 5:22</div>
      <div class="ticker-item"><i class="fas fa-mountain"></i> "I can do all this through him who gives me strength." - Philippians 4:13</div>
      <div class="ticker-item"><i class="fas fa-seedling"></i> "For God has not given us a spirit of fear, but of power and love..." - 2 Timothy 1:7</div>
    </div>
  </div>
</section>

<!-- Rest of the HTML remains the same... -->

<script>
// Header scroll effect
const header = document.getElementById('mainHeader');
window.addEventListener('scroll', () => {
  if (window.scrollY > 50) {
    header.classList.add('header-scrolled');
  } else {
    header.classList.remove('header-scrolled');
  }
});

// HAMBURGER MENU - UPDATED FOR PROPER FUNCTIONALITY
const hamburger = document.querySelector('.hamburger');
const navMenu = document.querySelector('.nav-menu');
const dropdowns = document.querySelectorAll('.dropdown');
const ministryDropdown = document.querySelector('.dropdown');

hamburger.addEventListener('click', () => {
  hamburger.classList.toggle('active');
  navMenu.classList.toggle('active');
  
  // 4. FIX FOR EXTRA SPACE ON RIGHT - Use scrollbar-gutter instead of overflow hidden
  if (navMenu.classList.contains('active')) {
    // Only hide overflow-y, not overflow-x
    document.body.style.overflowY = 'hidden';
    document.body.style.scrollbarGutter = 'stable';
  } else {
    document.body.style.overflowY = 'auto';
    document.body.style.scrollbarGutter = 'auto';
  }
});

// 3. FIX FOR MINISTRIES DROPDOWN - Only opens submenu, doesn't close menu or go to homepage
dropdowns.forEach(dropdown => {
  const trigger = dropdown.querySelector('a');
  trigger.addEventListener('click', (e) => {
    if (window.innerWidth <= 992) {
      e.preventDefault();
      e.stopPropagation(); // Prevent event from bubbling up
      dropdown.classList.toggle('active');
      
      // Close other dropdowns if open
      dropdowns.forEach(otherDropdown => {
        if (otherDropdown !== dropdown && otherDropdown.classList.contains('active')) {
          otherDropdown.classList.remove('active');
        }
      });
    }
  });
});

// Close dropdown when clicking outside on mobile
document.addEventListener('click', (e) => {
  if (window.innerWidth <= 992) {
    dropdowns.forEach(dropdown => {
      if (!dropdown.contains(e.target) && dropdown.classList.contains('active')) {
        dropdown.classList.remove('active');
      }
    });
  }
});

// Close menu only when clicking on non-dropdown links
document.querySelectorAll('.nav-menu a:not(.dropdown > a)').forEach(link => {
  link.addEventListener('click', () => {
    if (window.innerWidth <= 992 && navMenu.classList.contains('active')) {
      hamburger.classList.remove('active');
      navMenu.classList.remove('active');
      document.body.style.overflowY = 'auto';
      document.body.style.scrollbarGutter = 'auto';
    }
  });
});

// Professional touch: Scroll progress indicator
window.addEventListener('scroll', function() {
  const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
  const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
  const scrolled = (winScroll / height) * 100;
  const scrollProgress = document.getElementById('scrollProgress');
  if (scrollProgress) {
    scrollProgress.style.width = scrolled + '%';
  }
});

// ====== DYNAMIC EFFECTS FOR FIRST THREE CIRCLE BUTTONS ======
function initializeDynamicButtons() {
  const buttons = document.querySelectorAll('.circle-button.dynamic');
  
  // Clear existing animations
  buttons.forEach(btn => {
    btn.style.animation = 'none';
    btn.querySelector('i').style.animation = 'none';
  });
  
  // Assign dynamic effects with faster animations
  const effects = [
    { name: 'bounce', time: '2s' },
    { name: 'pulse', time: '1.5s' },
    { name: 'float', time: '3s' }
  ];
  
  const iconEffects = [
    { name: 'rotate', time: '8s' },
    { name: 'sparkle', time: '1.5s' },
    { name: 'sparkle', time: '1.8s' }
  ];
  
  buttons.forEach((button, index) => {
    // Button animation
    const effect = effects[index % effects.length];
    button.style.setProperty('--animation-time', effect.time);
    
    // Remove previous animation classes
    ['bounce', 'pulse', 'rotate', 'glow', 'shake', 'float'].forEach(cls => {
      button.classList.remove(cls);
    });
    
    // Add new animation
    button.classList.add(effect.name);
    
    // Icon animation
    const iconEffect = iconEffects[index % iconEffects.length];
    const icon = button.querySelector('i');
    icon.style.animation = 'none';
    
    // Apply icon animation
    if (iconEffect.name === 'rotate') {
      icon.style.animation = `rotate ${iconEffect.time} linear infinite`;
    } else if (iconEffect.name === 'sparkle') {
      icon.style.animation = `sparkle ${iconEffect.time} ease-in-out infinite`;
    }
    
    // Enhanced hover effects
    button.addEventListener('mouseenter', function() {
      this.style.transform = 'scale(1.15) rotate(5deg)';
      this.style.zIndex = '10';
    });
    
    button.addEventListener('mouseleave', function() {
      this.style.transform = '';
      this.style.zIndex = '';
    });
    
    // Click effect
    button.addEventListener('click', function(e) {
      createRipple(e, this);
      // Quick pulse effect on click
      this.style.animation = 'none';
      setTimeout(() => {
        this.classList.add(effect.name);
      }, 10);
    });
  });
}

// ====== GALLERY MODAL FUNCTIONS ======
function openGalleryModal(imageSrc, title, description) {
  const modal = document.getElementById('galleryModal');
  const modalImage = modal.querySelector('.modal-image');
  const modalTitle = document.getElementById('modalTitle');
  const modalDescription = document.getElementById('modalDescription');
  
  modalImage.src = imageSrc;
  modalTitle.textContent = title;
  modalDescription.textContent = description;
  
  modal.classList.add('active');
  document.body.style.overflow = 'hidden';
}

function closeGalleryModal() {
  const modal = document.getElementById('galleryModal');
  modal.classList.remove('active');
  document.body.style.overflow = 'auto';
}

// Close modal when clicking X or outside
document.querySelector('.close-modal').addEventListener('click', closeGalleryModal);
document.getElementById('galleryModal').addEventListener('click', function(e) {
  if (e.target === this) {
    closeGalleryModal();
  }
});

// Close modal with Escape key
document.addEventListener('keydown', function(e) {
  if (e.key === 'Escape') {
    closeGalleryModal();
  }
});

// Create ripple effect
function createRipple(event, element) {
  const ripple = document.createElement('span');
  const rect = element.getBoundingClientRect();
  const size = Math.max(rect.width, rect.height);
  const x = event.clientX - rect.left - size / 2;
  const y = event.clientY - rect.top - size / 2;
  
  ripple.style.width = ripple.style.height = size + 'px';
  ripple.style.left = x + 'px';
  ripple.style.top = y + 'px';
  ripple.classList.add('ripple');
  
  // Remove existing ripples
  const existingRipples = element.querySelectorAll('.ripple');
  existingRipples.forEach(r => r.remove());
  
  element.appendChild(ripple);
  
  // Remove ripple after animation
  setTimeout(() => {
    ripple.remove();
  }, 800);
}

// ====== SMOOTHER SCROLLING AND ANIMATIONS ======
let lastScrollY = 0;
let ticking = false;

function updateScroll() {
  // Picture cards animation with requestAnimationFrame
  const pictureCards = document.querySelectorAll('.picture-card:not(.visible)');
  const windowHeight = window.innerHeight;
  
  pictureCards.forEach(card => {
    const cardTop = card.getBoundingClientRect().top;
    
    if (cardTop < windowHeight - 100) {
      card.classList.add('visible');
    }
  });
  
  // Smooth parallax effect for hero
  const hero = document.querySelector('.hero');
  if (hero) {
    const scrolled = window.pageYOffset;
    const rate = scrolled * -0.5;
    hero.style.transform = `translate3d(0, ${rate}px, 0)`;
  }
  
  lastScrollY = window.scrollY;
  ticking = false;
}

function requestTick() {
  if (!ticking) {
    requestAnimationFrame(updateScroll);
    ticking = true;
  }
}

// Optimized scroll event listener
window.addEventListener('scroll', requestTick, { passive: true });

// Initialize on load
window.addEventListener('DOMContentLoaded', function() {
  // Preload video
  const heroVideo = document.querySelector('.hero-video');
  if (heroVideo) heroVideo.load();
  
  // Initialize dynamic buttons
  initializeDynamicButtons();
  
  // Initialize picture cards with random directional animations
  const pictureCards = document.querySelectorAll('.picture-card');
  const animationClasses = [
    'from-left', 'from-right', 'from-up', 'from-down',
    'from-diagonal-left', 'from-diagonal-right'
  ];
  
  pictureCards.forEach((card, index) => {
    const randomClass = animationClasses[index % animationClasses.length];
    card.classList.add(randomClass);
    card.style.transitionDelay = `${(index % 6) * 0.1}s`;
  });
  
  // Initial check for visible elements
  updateScroll();
  
  // Hide loading animation
  setTimeout(() => {
    const loading = document.querySelector('.loading');
    if (loading) {
      loading.style.opacity = '0';
      setTimeout(() => {
        loading.style.display = 'none';
      }, 300);
    }
  }, 1000);
});

// Scroll to top button
const scrollTopBtn = document.getElementById('scrollTop');

window.addEventListener('scroll', () => {
  if (window.scrollY > 300) {
    scrollTopBtn.classList.add('visible');
  } else {
    scrollTopBtn.classList.remove('visible');
  }
});

scrollTopBtn.addEventListener('click', () => {
  window.scrollTo({
    top: 0,
    behavior: 'smooth'
  });
});

// ====== IMPROVED BUTTON NAVIGATION (NO LOADING) ======
function navigateToPage(page, element) {
  // For dynamic buttons - no loading spinner
  if(['new-button', 'prayer-button', 'testimony-button'].includes(element.id)) {
    createRipple(event, element);
    
    // Quick animation before navigation
    element.classList.add('clicked');
    element.style.transform = 'scale(0.95)';
    
    // Navigate immediately (no delay)
    setTimeout(() => {
      window.location.href = page;
    }, 300);
    
    return false;
  }
  
  // Original behavior for other buttons
  element.classList.add('square');
  setTimeout(() => {
    window.location.href = page;
  }, 500);
}

function openPage(page) {
  window.location.href = page;
}

// ====== SMOOTH INSTAGRAM SLIDER ======
const instaTrack = document.querySelector('.insta-track');
if (instaTrack) {
  let scrollAmount = 0;
  const slideWidth = 245;
  let autoScrollInterval;
  let isDragging = false;
  let startX;
  let scrollLeft;
  
  function startAutoScroll() {
    autoScrollInterval = setInterval(() => {
      if (!isDragging) {
        scrollAmount += slideWidth;
        
        // Reset if at end
        if (scrollAmount >= instaTrack.scrollWidth - instaTrack.clientWidth) {
          scrollAmount = 0;
          instaTrack.scrollTo({ left: 0, behavior: 'smooth' });
        } else {
          instaTrack.scrollTo({ left: scrollAmount, behavior: 'smooth' });
        }
      }
    }, 4000); // Faster auto-scroll
  }
  
  startAutoScroll();
  
  // Pause auto-scroll on hover
  instaTrack.addEventListener('mouseenter', () => {
    clearInterval(autoScrollInterval);
  });
  
  instaTrack.addEventListener('mouseleave', () => {
    startAutoScroll();
  });
  
  // Make draggable
  instaTrack.addEventListener('mousedown', (e) => {
    isDragging = true;
    startX = e.pageX - instaTrack.offsetLeft;
    scrollLeft = instaTrack.scrollLeft;
    instaTrack.style.cursor = 'grabbing';
    clearInterval(autoScrollInterval);
  });
  
  instaTrack.addEventListener('mouseleave', () => {
    isDragging = false;
    instaTrack.style.cursor = 'grab';
  });
  
  instaTrack.addEventListener('mouseup', () => {
    isDragging = false;
    instaTrack.style.cursor = 'grab';
    startAutoScroll();
  });
  
  instaTrack.addEventListener('mousemove', (e) => {
    if (!isDragging) return;
    e.preventDefault();
    const x = e.pageX - instaTrack.offsetLeft;
    const walk = (x - startX) * 2;
    instaTrack.scrollLeft = scrollLeft - walk;
  });
  
  // Touch events for mobile
  instaTrack.addEventListener('touchstart', (e) => {
    isDragging = true;
    startX = e.touches[0].pageX - instaTrack.offsetLeft;
    scrollLeft = instaTrack.scrollLeft;
    clearInterval(autoScrollInterval);
  });
  
  instaTrack.addEventListener('touchend', () => {
    isDragging = false;
    startAutoScroll();
  });
  
  instaTrack.addEventListener('touchmove', (e) => {
    if (!isDragging) return;
    e.preventDefault();
    const x = e.touches[0].pageX - instaTrack.offsetLeft;
    const walk = (x - startX) * 2;
    instaTrack.scrollLeft = scrollLeft - walk;
  });
}

// Smooth scrolling for anchor links
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
  anchor.addEventListener('click', function(e) {
    if (this.getAttribute('href') === '#') return;
    
    e.preventDefault();
    const targetId = this.getAttribute('href');
    
    if (targetId === '#home') {
      window.scrollTo({
        top: 0,
        behavior: 'smooth'
      });
    } else {
      const targetElement = document.querySelector(targetId);
      if (targetElement) {
        window.scrollTo({
          top: targetElement.offsetTop - 80,
          behavior: 'smooth'
        });
      }
    }
  });
});

// Reinitialize on window resize
window.addEventListener('resize', initializeDynamicButtons);

// Performance optimization: Debounce resize events
let resizeTimeout;
window.addEventListener('resize', function() {
  clearTimeout(resizeTimeout);
  resizeTimeout = setTimeout(function() {
    initializeDynamicButtons();
    updateScroll();
  }, 250);
});
</script>

</body>
</html>
